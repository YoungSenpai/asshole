Registry.registerRaw("page.js","5665",function(){return{backup:function(a,z,t,u){var c={safeWindow:{},safeDocument:{},eval:eval,Context:{D:u},exec_fn:function(a,b,c){f(new m.Function(a),b,c)},exec_csp:function(a,b,Q){var e="__u__"+(19831206*c.Context.M_r()+1);c.Message.send("csp",{id:e,src:a});c.exec_script(e,b,Q)},exec_script:function(b,c,Q){var e=a[b];delete a[b];f(e,c,Q)}},f,b,n,B,p,m=c.safeWindow;(function(){var d=function(a){var b=function(b){return f(a,b,f(n.wrappedJSObject,arguments,
[1]))};b.wrappedJSObject=a;return b},D={F_a:f=function(){var b=a.Function.apply;return function(a,c,d){a.apply===b?c=a.apply(c,d):(a[t]=b,c=a[t](c,d),delete a[t]);return c}}(),E_u:function(b,e){if(c.exec_eval){var d="__u__"+(19831206*c.Context.M_r()+1),f=d+"_";a[f]=e;var m=c.Context.F_c(c.Context.eval,a,"(function() {"+b+'}).apply(window["'+f+'"])');delete a[d];delete a[f];return m}c.exec_csp(b,e)},E_c:function(a,b){c.exec_eval?f(new m.Function(a),b):c.exec_csp(a,b)},F_c:d(a.Function.call),F_b:b=
d(a.Function.bind),F_tS:d(a.Function.toString),A_fE:d(a.Array.prototype.forEach),A_sl:n=d(a.Array.prototype.slice),A_sp:d(a.Array.prototype.splice),A_sh:d(a.Array.prototype.shift),A_j:d(a.Array.prototype.join),A_pu:d(a.Array.prototype.push),A_po:d(a.Array.prototype.pop),A_m:d(a.Array.prototype.map),A_c:d(a.Array.prototype.concat),A_f:d(a.Array.prototype.filter),A_iO:d(a.Array.prototype.indexOf),O_k:a.Object.keys,O_dP:a.Object.defineProperties,O_dPy:a.Object.defineProperty,O_gOPN:a.Object.getOwnPropertyNames,
O_gOPD:a.Object.getOwnPropertyDescriptor,O_gOPDs:a.Object.getOwnPropertyDescriptors||function(a){var b={},c;for(c in a)b[c]=D.O_gOPD(a,c);return b},O_tS:d(a.Object.prototype.toString),J_p:p=a.JSON.parse,J_s:B=a.JSON.stringify,c_l:a.console.log.bind(a.console),c_i:a.console.info.bind(a.console),c_w:a.console.warn.bind(a.console),c_e:a.console.error.bind(a.console),c_d:a.console.debug.bind(a.console),M_f:a.Math.floor,M_r:a.Math.random,M_m:a.Math.max,N_tS:d(a.Number.prototype.toString),P_r:a.Promise?
a.Promise.resolve.bind(a.Promise):void 0,P_t:a.Promise?d(a.Promise.prototype.then):void 0,P_c:a.Promise?d(a.Promise.prototype.catch):void 0,R_rAAB:a.FileReader?d(a.FileReader.prototype.readAsArrayBuffer):void 0,S_fCC:a.String.fromCharCode,S_m:d(a.String.prototype.match),S_su:d(a.String.prototype.substr),S_se:d(a.String.prototype.search),S_sp:d(a.String.prototype.split),S_r:d(a.String.prototype.replace),S_cCA:d(a.String.prototype.charCodeAt),S_tLC:d(a.String.prototype.toLowerCase),S_tUC:d(a.String.prototype.toUpperCase),
D_pFS:d(a.DOMParser.prototype.parseFromString),X_o:d(a.XMLHttpRequest.prototype.open),X_sRH:d(a.XMLHttpRequest.prototype.setRequestHeader),X_oMT:d(a.XMLHttpRequest.prototype.overrideMimeType),X_gARH:d(a.XMLHttpRequest.prototype.getAllResponseHeaders),X_gRH:d(a.XMLHttpRequest.prototype.getResponseHeader),X_s:d(a.XMLHttpRequest.prototype.send),X_a:d(a.XMLHttpRequest.prototype.abort),D_n:a.Date.now};Object.keys(D).forEach(function(a){c.Context[a]=D[a]});"String Array Object Number parseInt JSON Math Date Event MutationEvent console location Error Uint8Array Blob FileReader DOMParser XMLHttpRequest Function RegExp frames self top document location Promise".split(" ").forEach(function(b){m[b]=
a[b]});"postMessage addEventListener removeEventListener setTimeout setInterval clearTimeout clearInterval alert prompt confirm encodeURIComponent decodeURIComponent encodeURI decodeURI escape unescape atob btoa close".split(" ").forEach(function(b){var c=a[b];m[b]=function(){return f(c,a,arguments)}});c.createSafeDocument=function(a){"getElementById createEvent createElement dispatchEvent addEventListener removeEventListener".split(" ").forEach(function(b){var d=a[b];c.safeDocument[b]=function(){return f(d,
a,arguments)}})};c.createSafeDocument(z)})();try{c.Message=function(a,b){var c=function(){return f(b.dispatchEvent,b,arguments)},e=function(){return f(b.addEventListener,b,arguments)},m=function(){return f(b.removeEventListener,b,arguments)},t=function(a,c){var d=b.createEvent("MutationEvent");d.initMutationEvent(a,!1,!1,null,null,null,B(c),d.ADDITION);return d},C=function(a,b){var c;a&&(c=ga[a])&&(c(b),delete ga[a])},n,z,H,u,U=1,ga={},k=function(a){var b=p(a.attrName);"message.response"==b.m?C(b.r,
b.a):n&&n(b,b.r?function(a){a=t(H,{m:"message.response",a:a,r:b.r});c(a)}:function(){})};return{init:function(a){u||(u=a);H="2C_"+u;z="2P_"+u;e(z,k,!1)},send:function(a,b,d){if(d){var e=++U;ga[U]=d;d=e}else d=null;a=t(H,{m:a,a:b,r:d});c(a)},onMessage:{setListener:function(a){n=a}},cleanup:function(){k&&m(z,k,!1);k=null}}}(m,c.safeDocument),c.Message.init(t),c.Message.onMessage.setListener(function(d){if(c)if("load"==d.m)c.Context.pageLoaded=!0;else if("DOMContentLoaded"==d.m)c.Context.domContentLoaded=
!0;else if("cleanup"==d.m)c.Message.cleanup(),c=null;else if("next"==d.m)if(d.a.id)c.exec_script(d.a.id,c),c.exec_eval=!1;else{if(void 0===c.exec_eval)try{c.exec_eval=b(c.eval,a)("true")}catch(f){c.exec_eval=!1}c.exec_eval?c.exec_fn(d.a.src,c):c.exec_csp(d.a.src,c)}})}catch(d){}},next:function(a,z,t,u,c,f,b,n,B,p,m,d,D,Q,e){var F="";n&&(F+="var V = true;\n");p&&(F+="var EV = true;\n");B&&(F+="var ENV = true;\n");p="";if(D||"complete"==document.readyState)p+="Context.pageLoaded |= true;\nContext.domContentLoaded |= true;\n";
else if(Q||"interactive"==document.readyState)p+="Context.domContentLoaded |= true;\n";return['var backup = this;\n(function TM_back() {var Context = backup.Context;\nvar copy = function(src) {"use strict";var props = Context.O_gOPN(src);for (var kk, ii=0; (kk=props[ii]) !== undefined; ii++) {Context[kk] = src[kk];};};copy(backup);with (Context) {(function() {"use strict";copy({Context: Context,V:',n?"true":"false",",ENV:",B?"true":"false",",TS:",m?"true":"false",",D:",d?"true":"false",",use:",f,
",windowProps:",u,",scripts:",z,",powers:",t,",_content: false,flags:",c,',write_listeners: []});var cleanup = function(evt) {Message.cleanup();safeWindow.removeEventListener("unload", cleanup, false);};safeWindow.addEventListener("unload", cleanup, false);Context.write_listeners.push(function(d) {Context.createSafeDocument(d);Message.init();});',F+("var logLevel = "+b+";\n")+('var contextId = "'+a+'";\n')+"var Event = function() {};var Window = function() {};Window.prototype = {};"+p+"("+e+")(Context, contextId);\n",
"})();};})()"].join("")},environment:function(a,z){var t=a.V,u=a.EV,c=a.D,f=a.Message,b=a.safeWindow,n=window,B=a.safeDocument,p=a.flags,m=a.F_a,d=a.F_c,D=a.F_b,Q=a.F_tS,e=a.A_fE,F=a.A_sl,ra=a.A_sp,C=a.A_pu,sa=a.A_po,ta=a.A_sh,H=a.A_j,ua=a.A_f,U=a.A_iO,ga=a.A_c,k=a.O_k,ba=a.O_dP,ca=a.O_dPy,Da=a.O_gOPN,la=a.O_gOPD,Ea=a.O_gOPDs,Fa=a.O_tS,va=a.J_p,ma=a.J_s,x=a.c_l,Ga=a.c_i,S=a.c_w,ha=a.c_e,O=a.c_d,Ha=a.M_f,wa=a.M_r,xa=a.M_m,Ia=a.P_r,Ja=a.P_t,Ka=a.P_c,da=a.S_fCC,ia=a.S_m,ya=a.S_su,za=a.S_sp,V=a.S_r,ea=
a.S_se,Aa=a.S_cCA,Ba=a.S_tLC,La=a.S_tUC,Ma=a.R_rAAB,Ca=a.D_pFS,Na=a.X_o,Oa=a.X_sRH,Pa=a.X_oMT,Qa=a.X_gARH,Ra=a.X_gRH,Sa=a.X_s,Ta=a.X_a,Ua=a.N_tS,ja=a.D_n;a.domContentLoaded|=0;a.pageLoaded|=0;a.domNodeInserted|=0;a.props={};var fa=function(){var d=[],I=function(a){if(document.body)a&&(a(),a=null);else{var b=["load","DOMNodeInserted","DOMContentLoaded"],c=function(){e(b,function(a){B.removeEventListener(a,c,!1)});I(a)};e(b,function(a){B.addEventListener(a,c,!1)})}},Va=function(c){C(d,function(){b.setTimeout(c,
1)});a.domContentLoaded&&g.runListeners()},g={runListeners:function(){for(var a;a=ta(d);)a()},run:function(b){var e=function(){Wa.create(b)};"document-start"==b.script.options.run_at?(c&&O('env: run "'+b.script.name+'" ASAP -> document-start'),e()):"document-body"==b.script.options.run_at?(c&&O('env: schedule "'+b.script.name+'" for document-body'),I(e)):"context-menu"==b.script.options.run_at?(c&&O('env: run "'+b.script.name+'" ASAP -> context-menu'),e()):"document-end"==b.script.options.run_at?
(c&&O('env: schedule "'+b.script.name+'" for document-end'),C(d,e),a.domContentLoaded&&g.runListeners()):(c&&O('env: schedule "'+b.script.name+'" for document-idle'),Va(e))}};return g}();(t||c)&&O("env: initialized (content, id:"+ya(z,0,10)+"..., "+b.location.origin+b.location.pathname+") ");var W={createUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*wa()|0;return Ua("x"==a?b:b&3|8,16)})},toType:function(a){return ia(Fa(a,{}),new b.RegExp("\\s([a-z|A-Z]+)"))[1]}},
J={UTF8:{encode:function(a){return b.unescape(b.encodeURIComponent(a))},decode:function(a){return b.decodeURIComponent(b.escape(a))}},Base64:{encode:function(a){for(var c="",d=0;d<a.length;d++)c+=da(Aa(a,d)&255);return b.btoa(c)},decode:function(a){return b.atob(a)}},str2arrbuf:function(a){for(var c=new b.Uint8Array(a.length),d=0;d<a.length;d++)c[d]=Aa(a,d);return c.buffer},arrbuf2str:function(a){var c="";a=new b.Uint8Array(a);for(var d=0;d<a.length;d+=32687)c+=m(da,null,a.subarray(d,d+32687));return c}},
R=function(){var a={},b,d=function(b){var c=[],d=[],g=function(){I=d=c=null;delete a[b]},I={postMessage:function(a){f.send("port.message",{response_id:b,value:a})},onMessage:{addListener:function(a){C(c,a)}},onDisconnect:{addListener:function(a){C(d,a)}},disconnect:function(){f.send("port.message",{response_id:b,disconnect:!0});g()}};a[b]={message:function(a){c&&e(c,function(b){b(a)})},disconnect:function(a){d&&e(d,function(b){b(a)});g()}};return I};return{message:function(e){var g;e.connect?b&&b(e.destination,
d(e.response_id)):(g=a[e.response_id])?e.disconnect?g.disconnect():g.message(e.value):c&&S("ports: unkown id",e.response_id,e)},connect:function(a){var b=W.createUUID();f.send("port.message",{response_id:b,connect:!0,destination:a});return d(b)},onConnect:{addListener:function(a){b=a}}}}(),na=function(){var a={objs:{},push:function(b,c){0!==c&&1!==c&&(c=0);var d=Ha(19831206*wa()+1);a.objs[d]={fn:b,prio:c};return d},remove:function(b){delete a.objs[b]},get:function(b){for(var c=[],d=0;1>=d;d++)e(k(a.objs),
function(e){a.objs[e].prio!==d||void 0!==b&&e!=b||C(c,a.objs[e].fn)});return void 0===b?c:c[0]},finalize:function(b){if(void 0===b){b=a.get();for(var c=0;c<b.length;c++)b[c]()}else return a.objs[b]&&(c=a.objs[b].fn(),delete a.objs[b]),c}};return a}(),g=p.statistics?function(a,c){b.setTimeout(function(){f.send("api",{name:a,type:c},null)},1)}:function(){},Z=function(){var a=function(){var a=0,c={},d={register:function(e,f,m){g("GM_registerMenuCommand");var k=R.connect("registerMenuCommand");k.onMessage.addListener(function(a){"run"===
a&&b.setTimeout(f,1)});k.onDisconnect.addListener(function(){d.unregister(n)});k.postMessage({method:"register",name:e,accessKey:m});t&&x("env: registerMenuCommand "+Q(f));var n=++a;c[n]=k.disconnect;return n},unregister:function(a){g("GM_unregisterMenuCommand");t&&x("env: unregisterMenuCommand "+a);var b;if(b=c[a])b(),delete c[a]}};return d}(),d=function(a,b){g("GM_openInTab");var d=null,e=!1,f=null,k,m=function(){var a=[];return{run:function(b){b&&C(a,b);if(d)for(;a.length;)sa(a)()}}}(),n=R.connect("openInTab");
n.onMessage.addListener(function(a){a.tabId?e?t():(d=a.tabId,m.run()):a.name?k=a.name:a.close&&(e=!0,f&&(f(),f=void 0))});n.onDisconnect.addListener(function(){n=null});n.postMessage({method:"openTab",url:a,options:b});var t=function(){n&&n.postMessage({method:"closeTab"})},p={};ba(p,{close:{value:function(){g("GM_openInTab.close");e?c&&O("env: attempt to close already closed tab!"):(e=!0,t())}},closed:{get:function(){g("GM_openInTab.closed");return e}},onclose:{get:function(){return f},set:function(a){g("GM_openInTab.onclose=");
f=a}},name:{get:function(){return k},set:function(a){m.run(function(){g("GM_openInTab.name=");n&&n.postMessage({method:"nameTab",name:a})})}}});return p},n=function(a,c){g("GM_download");var d="Object"===W.toType(a)?a:{url:a,name:c},e=function(a,c){c=c||{};a&&b.setTimeout(function(){m(a,c,[c])},1)},f=R.connect("download");f.onMessage.addListener(function(a){try{a.load?d.onload&&e(d.onload,a.data):a.progress?d.onprogress&&e(d.onprogress,a.data):a.timeout?d.ontimeout&&e(d.ontimeout,a.data):d.onerror&&
e(d.onerror,a.data)}catch(b){x("env: Error: TM_download - ",b,d)}});f.onDisconnect.addListener(function(){f=null});f.postMessage({details:d});return{abort:function(){f&&f.disconnect();f=null}}},M={};return{log:function(){g("GM_log");m(x,this,arguments)},addStyle:function(a,b){g("GM_addStyle");var c=W.createUUID();f.send("addStyle",{css:a,id:c},b?function(){b()}:null);return B.getElementById(c)},closeTab:function(a){g("window.close");f.send("closeTab",null,a?function(){a()}:null)},focusTab:function(a){g("window.focus");
f.send("focusTab",null,a?function(){a()}:null)},setClipboard:function(a,b,c){g("GM_setClipboard");f.send("setClipboard",{content:a,info:b,id:z},c?function(){c()}:null)},syntaxCheck:function(a,b){f.send("syntaxCheck",{code:a},function(a){b(a)})},of:function(L){var E=L.script,u=function(){var a=[],d=L.storage,r=0,h=function(a,d){if("string"===typeof a){var c=a[0];a=ya(a,1);switch(c){case "b":return"true"===a;case "n":return b.Number(a);case "x":return J.UTF8.decode(J.Base64.decode(a));case "o":try{return va(a)}catch(l){x("values: parseValueFromStorage: "+
l)}return d;default:return a}}else return d},X=function(b,d,r,l){d!=r&&e(a,function(a){if(a&&a.key==b&&a.cb)try{a.cb(b,h(d),h(r),l)}catch(y){c&&S('values: change listener of "'+b+'" failed with: '+y.message)}})},f=function(a){q.postMessage({method:"saveStorageKey",uuid:E.uuid,key:a,value:d.data[a],id:z,ts:d.ts})},q=R.connect("values");q.onMessage.addListener(function(a){a.storage&&e(k(a.storage.data),function(b){var c=d.data[b];d.data[b]=a.storage.data[b];var l=d.data[b];t&&x("values: message - config key "+
b+": "+c+" -> "+l);X(b,c,l,!0)});a.removed&&(d[a.removed]=void 0)});q.onDisconnect.addListener(function(){c&&x("values: port disconnected")});q.postMessage({method:"addStorageListener",uuid:E.uuid,id:z});return{set:function(a,b){g("GM_setValue");var c=d.data[a];d.ts=ja();var l=d.data,r;a:{r=b;var e=(typeof r)[0];switch(e){case "o":try{r=e+ma(r)}catch(oa){x(oa);r=void 0;break a}break;case "s":var h=da(8232),q=da(8233);if(-1!==ea(r,h)||-1!==ea(r,q))e="x",r=J.Base64.encode(J.UTF8.encode(r));r=e+r;break;
default:r=e+r}}l[a]=r;f(a);X(a,c,d.data[a],!1)},get:function(a,b){g("GM_getValue");return h(d.data[a],b)},remove:function(a){g("GM_deleteValue");var b=d.data[a];d.ts=ja();delete d.data[a];f(a);X(a,b,d.data[a],!1)},list:function(){g("GM_listValues");return k(d.data)},registerChangeListener:function(b,d){g("GM_addValueChangeListener");var c=++r;C(a,{id:c,key:b,cb:d});return c},unregisterChangeListener:function(b){g("GM_removeValueChangeListener");a=ua(a,function(a){return a.id!==b?!0:!1})}}}(),B=function(){return{getText:function(a){g("GM_getResourceText");
for(var b=0;b<E.resources.length;b++){var c=E.resources[b];if(c.name==a&&!c.failed){try{if(null!==c.content)return J.UTF8.decode(c.content)}catch(d){}return""}}return null},getURL:function(a){g("GM_getResourceURL");for(var b=0;b<E.resources.length;b++){var c=E.resources[b];if(c.name==a&&!c.failed){if(null===c.content)return"";try{return"data:"+(c.meta||"application")+";base64,"+J.Base64.encode(c.content)}catch(d){}return c.url}}return null}}}(),P=function(){return{set:function(a,b){g("GM_setTab");
f.send("tabsSet",{uuid:E.uuid,tab:a},b?function(){b()}:null)},get:function(a){g("GM_getTab");f.send("tabsGet",{uuid:E.uuid},a?function(b){a(b||{})}:null)},getAll:function(a){g("GM_getTabs");f.send("tabsGetAll",{uuid:E.uuid},a?function(b){a(b||{})}:null)}}}(),F=function(a){g("GM_xmlhttpRequest");var c=!1,d=a.context;delete a.context;var h=function(){var a={};e(k(b.XMLHttpRequest.__proto__),function(b){a[b]=!0});var c=function(){};e(k(b.XMLHttpRequest),function(d){a[d]||(c[d]=b.XMLHttpRequest[d])});
return c}(),X=function(){c=!0},f=function(a,d){d=d||{};a&&!c&&b.setTimeout(function(){d.__proto__=h;m(a,d,[d])},1)};"object"===typeof a.url&&a.url.href&&(a.url=a.url.href);var q=function(a,c){var d=new b.FileReader;d.onload=function(){c(J.arrbuf2str(d.result))};Ma(d,a)},v=function(a,c){var d,r,e,y=W.toType(a);if("Blob"===y||"File"===y)q(a,function(b){c({type:y,value:b,meta:a.type,name:a.name,lastModified:a.lastModified})});else if("FormData"===y)if(r=a.keys&&a.getAll?a.keys():null){var h,K={};for(d=
[];!(h=r.next()).done;)C(d,h.value);e=function(){if(d.length){var b=sa(d),r=a.getAll(b);-1===ea(b,/\[\]$/)&&(r=r[0]);v(r,function(a){K[b]=a;e()})}else c({type:"FormData",value:K})};e()}else c({error:y});else if(!(y=W.toType(a))||"Array"!==y&&"Object"!==y)c({value:a});else{var Y,A,N=0;r=0;"Object"===y?(d=k(a),A=function(a){return a<d.length?d[a]:null},Y={}):(A=function(b){return b<a.length?b:null},Y=[]);e=function(){var d=A(N);null===d?c({type:y,value:Y}):v(a[d],function(a){a.error?c(a):(Y[d]=a,N++,
1024>r++?e():(r=0,b.setTimeout(e,1)))})};e()}},pa=!0;(function(b){if(a.url){var d=a.url.substr(0,5);if(-1!=["data:","blob:"].indexOf(d))return pa=!1,b()}if(!a.data)return b();v(a.data,function(d){d.error?(pa=!1,S("GM_xmlhttpRequest:","unable to handle data type "+d.error+". Going to use default xhr as fallback.")):(a.binary&&(d.type="Blob"),a.data=d,a.data_type="typified");b()})})(function(){if(!c)if(pa){var v=R.connect("xhr"),l=[];a.headers&&e(k(a.headers),function(b){"cookie"===Ba(b)&&(a.cookie=
a.headers[b],delete a.headers[b])});v.postMessage({method:"xhr",details:a,callbacks:{onloadstart:!!a.onloadstart,onload:!!a.onload,onreadystatechange:!!a.onreadystatechange,onerror:!0,ontimeout:!!a.ontimeout,onprogress:!!a.onprogress,onpartial:!0},id:z,url:b.location.href,uuid:E.uuid});v.onMessage.addListener(function(c){c.data&&d&&(c.data.context=d);if(c.data&&c.onload){l.length&&(c.data.response_data=H(l,""),l=null);if(c.data.response_data){var h=c.data.response_data;e(["response_data"],function(a){delete c.data[a]});
var y={response:function(c){g("GM_xmlhttpRequest.response["+(a.responseType||"unknown")+"]");var d=a.responseType?Ba(a.responseType):"";if("arraybuffer"==d)c=J.str2arrbuf(c);else if("blob"==d)c=new b.Blob([J.str2arrbuf(c)]);else if("json"==d)c=va(c);else if("document"==d)return d=new b.DOMParser,Ca(d,c,"text/html");return c},responseText:function(a){g("GM_xmlhttpRequest.responseText");return a},responseXML:function(a){g("GM_xmlhttpRequest.responseXML");var c=new b.DOMParser;return Ca(c,a,"text/xml")}};
e(k(y),function(a){ca(c.data,a,{get:function(){try{return y[a](h)}catch(b){S("GM_xmlhttpRequest:",b)}}})})}f(a.onreadystatechange,c.data);f(a.onload,c.data)}else if(c.onreadystatechange)4!=c.data.readyState&&f(a.onreadystatechange,c.data);else if(c.onpartial)C(l,c.data.partial);else if(c.onerror)c.exception&&ha(c.exception),f(a.onerror,c.data);else{var v=ua(["onloadstart","onprogress","ontimeout"],function(a){return!!c[a]})[0]||"onerror";f(a[v],c.data)}});t&&v.onDisconnect.addListener(function(){x("env: GM_xmlhttpRequest.onDisconnect! :)")});
X=function(){g("GM_xmlhttpRequest.abort");v&&v.disconnect();v=null;c=!0}}else{var h=new b.XMLHttpRequest;void 0===a.async&&(a.async=!0);Na(h,a.method,a.url,a.async,a.user,a.password);a.headers&&e(k(a.headers),function(b){Oa(h,b,a.headers[b])});a.overrideMimeType&&Pa(h,a.overrideMimeType);a.responseType&&(h.responseType=a.responseType);e("abort error load loadstart progress readystatechange timeout".split(" "),function(b){h["on"+b]=function(){var c="",e=a.url;if(2<h.readyState&&(c=Qa(h),4==h.readyState)){c&&
(c=V(c,/TM-finalURL[0-9a-zA-Z]*\: .*[\r\n]{1,2}/,""));var y;try{y=Ra(h,"TM-finalURL"+p.short_id)}catch(l){}y&&(e=y)}c={readyState:h.readyState,status:"",statusText:"",responseHeaders:c,finalUrl:e,context:d};4==h.readyState&&(h.responseType?c.response=h.response:(c.responseText=h.responseText,c.responseXML=h.responseXML),c.status=h.status,c.statusText=h.statusText);f(a["on"+b],c)}});Sa(h,a.data);X=function(){g("GM_xmlhttpRequest.abort");Ta(h);c=!0}}});return{abort:function(){X()}}},O=function(a){var b=
{};e(k(a),function(c){b[c]=a[c]});b.id=z;g("GM_notification");b.text||b.highlight?f.send("notification",b,function(a){if(b.onclick&&a.clicked)b.onclick();if(b.ondone)b.ondone(!0===a.clicked)}):S("GM_notification: neither a message text nor hightlight options were given!")},T,D,Q=function(a,b){g("GM_webRequest");var c=function(){D==d&&(D=null);d=null};D&&D.disconnect();var d=D=R.connect("webRequest");b&&d.onMessage.addListener(function(a){b(a.type,a.message||"ok",a.details)});d.onDisconnect.addListener(c);
d.postMessage({rules:a,uuid:E.uuid});return{abort:function(){g("GM_webRequest.abort");d&&d.disconnect();c()}}};M[L.script.uuid]=M[L.script.uuid]||{getInfo:function(){if(T)return T;var a=L.script,b={observers:1,id:1,enabled:1,hash:1,fileURL:1},c={script:{}};e(k(a),function(d){b[d]||(c.script[d]=a[d])});var d=a.options.updateURL||a.options.fileURL;c.script["run-at"]=a.options.override.run_at||a.options.run_at;c.script.excludes=a.options.override.orig_excludes;c.script.includes=a.options.override.orig_includes;
c.script.matches=a.options.override.orig_matches;c.script.grant=a.grant;c.script.unwrap=!1;c.scriptMetaStr=L.header;c.scriptSource=L.code;c.scriptWillUpdate=!!d;c.scriptUpdateURL=d;c.version=p.version;c.scriptHandler="Tampermonkey";c.isIncognito=p.inIncognitoContext;c.downloadMode=p.downloadMode;return T=c},registerMenuCommand:a.register,unregisterMenuCommand:a.unregister,download:n,webRequest:Q,openInTab:d,setValue:u.set,getValue:u.get,deleteValue:u.remove,listValues:u.list,addValueChangeListener:u.registerChangeListener,
removeValueChangeListener:u.unregisterChangeListener,getResourceText:B.getText,getResourceURL:B.getURL,notification:O,xmlhttpRequest:F,setTab:P.set,getTab:P.get,getTabs:P.getAll};return M[L.script.uuid]}}}(),Wa=function(){var G=function(a){return!("prototype"in a)},I=function(a,b,c){var d=la(a,b);d&&d.set&&!G(d.set)||(a[b]=c)},z=function(a,b,c){var d=Ea(b);e(k(d),function(c){var e=d[c];if(!e||!e.get||G(e.get)||p.sandbox_allow_getters)"function"===typeof b[c]?a[c]=D(b[c],b):function(){ca(a,c,{get:function(){return b[c]}})}()});
e(k(c),function(b){a[b]=c[b]});return a},M=function(a,c,d,f){var g={attrChange:0,attrName:null,bubbles:!0,cancelBubble:!1,cancelable:!1,clipboardData:void 0,currentTarget:null,defaultPrevented:!1,eventPhase:0,newValue:null,prevValue:null,relatedNode:null,returnValue:!0,srcElement:null,target:null,timeStamp:ja()};d="string"===typeof d?new b.Function(d):d;var q=new Event;e(k(g),function(a){q[a]=g[a]});e(k(c),function(a){q[a]=c[a]});q.type=a;m(d,f,[q])},L=function(a,b,c,d){void 0===d&&(d=function(a,
b){return b});e(ga(["GM_info","GM.info"],b),function(b){var e,v=c[b];v&&(e=d(b,v))&&(a[b]=e)})},E=function(a,b){void 0===b&&(b=100);return b&&a&&(a==document||E(a.parentNode,b-1))},B=function(){var b=null;return function(c){b||(b={instance:c,is_open:!1},e(["write","writeln","open","close"],function(d){b[d]=c[d];c[d]=function(){var g=!1;-1!=U(["write","writeln","open"],d)?b.is_open?g=!0:b.is_open=!0:"close"===d&&(b.is_open=!1);!g&&b.is_open&&f.send("document.write");var k=document.documentElement,
q=m(b[d],c,arguments);if(!g&&b.is_open)return k!==document.documentElement&&(b.instance!==c&&(b=null,B(document)),e(a.write_listeners,function(a){a(document)})),q}}))}}(),J={},P=[],R=function(e,r,h){if(!e.__addEventListener){ba(e,{__addEventListener:{value:e.addEventListener,enumerable:!1,configurable:!1},__removeEventListener:{value:e.removeEventListener,enumerable:!1,configurable:!1}});var f=[],g=function(a){for(var b=0;b<f.length;b++)if(f[b].fn===a)return b};e.removeEventListener=function(a,b,
c){c=!!c;var d,e;if(void 0!==(d=g(b))&&(e=f[d].listeners)){if(b=e[a+"-"+c])this.__removeEventListener(a,b,c),delete e[a+"-"+c];Da(e).length||ra(f,d,1)}else this.__removeEventListener(a,b,c)};var q=function(a,c,d,e){if(c){var f=P.length;c=b.parseInt(H(["DOMContentLoaded"==d?1:2,e?1:2,e?c:3-c,ja()],"0"));for(d=0;d<P.length;d++)if(e=P[d],!e||!e.prio||e.prio>c){f=d;break}ra(P,f,0,{prio:c,fn:a})}else C(P,{fn:a})};e.addEventListener=function(e,y,w){(t||u)&&x("env: addEventListener "+e);if(1==r&&"load"==
e||"DOMContentLoaded"==e||"DOMNodeInserted"==e){w=!!w;var l,k=!0,m=this;try{try{throw new b.Error;}catch(N){var n=/tms_[0-9a-f_]+/,p=N.stack||N.stacktrace;if(p)for(var G=za(p,"\n"),K,p=0;p<G.length&&(!(K=ia(G[p],n))||!(l=J[K[0]]));p++);else{var Y=function(a,d){void 0===d&&(d=10);if(0===d)return null;if(a.caller){var e,l;try{return l=Q(a.caller),ia(l,new b.RegExp("^function[^(]+"))&&(void 0).length&&(e=ia((void 0)[0],n))?e[0]:Y(a.caller,d-1)}catch(A){c&&S("env: unable to detect caller context",A)}}return null},
A;if(A=Y(arguments.callee))l=J[A]}}}catch(N){c&&ha("env: Error: event "+e,N)}l&&"document-idle"!==l.run_at&&(l=null,"load"==e?a.pageLoaded&&(l=function(){var a=m.document||m;(t||u)&&x("env: postLoadEvent!");a=a||document;M("load",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:b.Event.AT_TARGET,attrChange:b.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},y,m)},k=!1,q(l,r,e,w)):"DOMContentLoaded"==e&&a.domContentLoaded&&(l=function(){var a=m.document||m;(t||u)&&x("env: postDomEventListener!");
a=a||document;M("DOMContentLoaded",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:b.Event.AT_TARGET,attrChange:b.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},y,m)},k=!1,q(l,r,e,w)),l&&(b.setTimeout(function(){if(P.length){var a=ta(P);a&&a.fn&&a.fn()}},1),k=!1));k&&(l=function(a){return T(d,[y,this,h(a)],0,!0,m)},void 0===(k=g(y))&&(k=f.length,C(f,{fn:y,listeners:{}})),f[k].listeners[e+"-"+w]=l,this.__addEventListener(e,l,w))}else this.__addEventListener(e,y,w)};C(na,function(){e.removeEventListener=
e.__removeEventListener;e.addEventListener=e.__addEventListener})}},da=function(a){a.__evaluate||(ba(a,{__evaluate:{value:a.evaluate,enumerable:!1,configurable:!1}}),a.evaluate=function(a,b,c,d,e){t&&x("env: document.evaluate "+a);b||(b=this);var f;if("undefined"!=typeof XPathResult){var g=a,k=null;try{f=this.__evaluate(g,b,c,d,e)}catch(m){k=m}var l=!1;try{l|=!!f.snapshotLength}catch(m){}try{l|=!!f.singleNodeValue}catch(m){}if(l||"."==a[0]||E(b))t&&x("env: queried document for "+g);else{t&&x("env: query added elem for "+
g);g=("/"==a[0]?".":"./")+a;try{f=this.__evaluate(g,b,c,d,e)}catch(m){}}t&&x("env: query returned ",f,k);if(!l&&k)throw k;}else t&&x("env: XPathResult == undefined, but selectNodes via ",a),f=b.selectNodes(a);return f},C(na,function(){a.evaluate=a.__evaluate}))},T=function(a,c,d,e,f){var g=c[d],k=typeof g;e&&"string"===k?c[d]=new b.Function(g):f&&"function"===k&&(c[d]=function(){return m(g,f,arguments)});return m(a,n,c)},fa=function(c,d){var f=["eval"],g={};e(k(c),function(a){c[a].context_prop&&(g[(a.split(".")||
[])[1]]=!0)});var t=function(a,c,d,r){var l=function(b){return b===c?a:b},y=function(a,b,c,d){c||(c=a);var e=a[b];a=function(){var a=m(e,c,arguments);d&&(a=d(a));return a};a.__proto__=e;a.prototype=e.prototype;return a},t=function(c){var d,e=c.substr(2),f;ca(a,c,{get:function(){return d},set:function(c){(d=c)&&!f?(f=function(){if("function"===typeof d)return m(d,a,arguments)},b.addEventListener(e,f,!0)):!d&&f&&(b.removeEventListener(e,f,!0),f=null)}})},x=function(b,d,e,f){var g,k={};k.get="function"===
typeof d?d:function(){f&&f.get_cb&&m(f.get_cb,this,[arguments,x]);return void 0===g?l(c[b]):g};"function"===typeof e?k.set=e:d||(k.set=function(a){g=a});ca(a,b,k)};e(k(r),function(a){d[a]=d[a]||!1!==r[a]});var C=p.sandbox_allow_getters,u=p.detect_constructors_by_keys;e(k(d),function(b){var e,A,N,p,I,qa,aa,ka,z,B,L,E,M,J;try{var F;(F=la(c,b))&&F.get&&(I=!G(F.get));try{if(!(A=r[b])||A.needs_grant&&!0!==g[b])if((e=d[b])&&e.event)M=!0;else if(F&&F.get)if(I)if(C)aa=!0;else return;else aa=function(){return l(m(F.get,
n))};else"function"===(p=typeof(N=c[b]))?e.proto?qa=!0:!F.enumerable&&(u&&k(N).length||!G(N))||-1!=U(f,b)||!N.bind?B=!0:L=!0:"number"===p||"string"===p?aa=!0:B=!0;else if(A.wrap)qa=!0,E=A.that;else if(A.direct)B=!0;else if(A.enhance)J=A.enhance;else if(A.get||A.set)aa=A.get,ka=A.set,z=A.opts}catch(H){aa=ka=!0}if(J)a[b]=J;else if(!I||C)M?t(b):aa||ka?x(b,aa,ka,z):qa?a[b]=y(c,b,E,l):B?a[b]=l(c[b]):L&&(a[b]=D(c[b],c))}catch(H){S("env: error while creating a new sandbox["+b+"]: "+H.message)}});return a};
return function(){var c=new Window,f={setTimeout:{enhance:function(){return T(b.setTimeout,arguments,0,!0,c)}},setInterval:{enhance:function(){return T(b.setInterval,arguments,0,!0,c)}},close:{needs_grant:!0,get:function(){return b.self==b.top?function(a){return Z.closeTab(a)}:b.close}},focus:{needs_grant:!0,get:function(){return function(a){return Z.focusTab(a)}}},location:{get:!0,set:function(a){b.location.href=a}},name:{get:function(){var a;a=(a=la(n,"name"))&&a.get&&!G(a.get)?void 0:n.name;return a},
set:function(a){I(n,"name",a)}},document:{get:function(){var a=b.document;d(a);return a}},clearInterval:{get:function(){return b.clearInterval}},clearTimeout:{get:function(){return b.clearTimeout}},addEventListener:{enhance:function(){return T(b.addEventListener,arguments,1,!0)}},removeEventListener:{enhance:function(){return T(b.removeEventListener,arguments,1,!0)}}};(function(){var a=xa(b.frames.length,7);f.length={get:!0,opts:{get_cb:function(c,d){for(var e=b.frames.length,f=a;f<e;f++)d(b.String(f),
{get:!0});a=xa(e,a)}}};for(var c=0;c<a;c++)f[b.String(c)]={get:!0}})();e(k(b),function(a){b[a]!=n&&(f[a]=f[a]||{enhance:b[a]})});var g=t(c,n,a.windowProps,f),h={context:g,filter:function(a){return a==n?g:a},filterEvent:function(a){var b={},c;for(c in a)if("function"===typeof a[c])b[c]=function(){var b=c;return function(){return m(a[b],a,arguments)}}();else{var d=h.filter(a[c]);b[c]=d}return b}};return h}()},ea=function(){return z({},b.console,{debug:O,log:x,info:Ga,warn:S,error:ha})},oa=function(d,
f,g,n,t,q,v){var x=null,w=function(){return"[Tampermonkey property]"};try{var l=n.sandboxes[d.uuid],G=["context","fapply"],u=[void 0,void 0],I=n.elements[d.uuid];e(k(I),function(a){var b=I[a];b.overwrite?(C(G,a),C(u,b.value)):b.context_prop||(C(G,a),C(u,"context."+a),b.getter?ca(l,a,{get:b.getter}):l[a]=b.value);b.protect&&l[a]&&(l[a].toString=w)});var B,x=H(["(function(context, fapply, console) {","with (context) {","(function(module) {",'"use strict";',"try {\n",p.measure_scripts?'console.time("'+
(B="SCRIPT RUN TIME["+d.name.replace(/\W+/g," ")+"]")+'");\n':"","fapply(module, context, [",H(u,","),"]);",p.measure_scripts?'console.timeEnd("'+B+'");\n':"","} catch (e) {","if (e.message && e.stack) {","console.error(\"ERROR: Execution of script '",V(d.name,new b.RegExp("[\"']","g"),"\\$1"),"' failed! \" + e.message);",'console.log(e.stack.replace(/(\\\\(eval at )?<anonymous>[: ]?)|([\\s.]*at Object.tms_[\\s\\S.]*)/g, ""));',"} else {","console.error(e);","}","}\n","})","(function ",q,"(",H(G,
","),") {",p.enforce_strict_mode?'"use strict";\n':"",g,f,"\n","})","}","})(this.context, this.fapply, this.console);\n",v?"//# sourceURL="+v+"\n":""],""),z={context:l,fapply:m,console:ea()};t?t(x,z):a.E_c(x,z)}catch(K){Z.syntaxCheck(H([g,f],""),function(a){var A="";if(a.errors){var l=za(g,"\n").length-1,m="";a.errors&&e(k(a.errors),function(b){if((b=a.errors[b])&&0<=b.line&&b.reason){var c=b.line;m+=H([c>l?"script:":"require:"," (",b.code,") ",V(b.reason,/.$/,"")," on line: ",c>l?c-l:c," at character: ",
b.character,"\n"],"")}});A="JSHINT output:\n"+m}else A=f;var n=K.stack?V(K.stack,/(\\(eval at )?<anonymous>[: ]?)|([\s.]*at Object.tms_[\s\S.]*)/g,""):"";c||a.errors?ha('Syntax error @ "'+d.name+'"!\n##########################\n'+A+"##########################\n\n"+n):ha('Syntax error @ "'+d.name+'"!\n\n',n);b.setTimeout(function(){throw K;},1)})}};return{create:function(d){var f=d.script,h={},p=-1!==U(f.grant,"none")?function(b,c){a.E_u(b,c)}:null,G=f.namespace+"_"+!!p;void 0===a.props[G]&&(a.props[G]=
{sandboxes:{},elements:{}},C(na,function(){a.props[G]=null}));h.CDATA={value:function(a){g("CDATA");this.src=a;this.toXMLString=this.toString=function(){return this.src}}};h.uneval={value:function(a){g("window.uneval");try{return"\\$1 = "+ma(a)+";"}catch(b){x(b)}}};h.define={value:void 0};h.module={value:void 0};h.exports={value:void 0};var q={},v={},u={},w=Z.of(d);g(f.options.run_at||"<default>","run_at");if(p)g("none","grant");else{g("sandbox","grant");h.window={value:"context",overwrite:!0};var l=
{window:n};e(k(l),function(a){var b="unsafe"+V(a,/^(.)/g,function(a){return La(a)});h[b]={value:l[a]};-1!=U(f.grant,b)&&g(b,"grant")});h.console={value:ea()};h.cloneInto={value:function(a){g("compat.cloneInto");return a}};h.exportFunction={value:function(a,b,c){g("compat.exportFunction");c&&void 0!==c.defineAs&&(b[c.defineAs]=a);return a}};h.createObjectIn={value:function(a,b){g("compat.createObjectIn");var c={};b&&void 0!==b.defineAs&&(a[b.defineAs]=c);return c}};q.addStyle=Z.addStyle;q.deleteValue=
w.deleteValue;q.listValues=w.listValues;q.getValue=w.getValue;q.setValue=w.setValue;q.log=Z.log;q.registerMenuCommand=w.registerMenuCommand;q.unregisterMenuCommand=w.unregisterMenuCommand;q.openInTab=w.openInTab;q.addValueChangeListener=w.addValueChangeListener;q.removeValueChangeListener=w.removeValueChangeListener;u.xmlhttpRequest=w.xmlhttpRequest;u.download=w.download;q.webRequest=w.webRequest;u.setClipboard=Z.setClipboard;q.getTab=w.getTab;q.setTab=w.setTab;q.saveTab=w.setTab;q.getTabs=w.getTabs;
q.getResourceText=w.getResourceText;u.getResourceURL=w.getResourceURL;var z=function(a){return function(){var b=Ia(m(a,this,arguments));I(b,"then",function(a){return Ja(b,a)});I(b,"catch",function(a){return Ka(b,a)});return b}},E=function(a,c){var d,f=new b.Promise(function(b,f){var g={},l=c.onload,h=c.ontimeout,n=c.onerror;e(k(c),function(a){g[a]=c[a]});g.onerror=function(a){f(a);n&&m(n,this,arguments)};g.ontimeout=function(a){f(a);h&&m(h,this,arguments)};g.onload=function(a){b(a);l&&m(l,this,arguments)};
var p=a(g).abort;!0===d?p():d=p});I(f,"abort",function(){d?d():d=!0});return f};e(k(u),function(a){v["GM_"+a]={value:u[a]}});v["GM.getResourceUrl"]={getter:function(){return z(u.getResourceURL)}};v["GM.xmlHttpRequest"]={value:function(a){return E(u.xmlhttpRequest,a)}};v["GM.download"]={value:function(a){return E(u.download,a)}};v["GM.setClipboard"]={value:function(a,c){return new b.Promise(function(b){u.setClipboard(a,c,b)})}};v.GM_notification={value:function(a,b,c,d){var g=null,k=["timeout","text",
"image","title","highlight"],l=null,h={};"object"===typeof a&&(l=a);l?(e(k,function(a){h[a]=l[a]}),g=l.ondone,d=l.onclick,"function"===typeof b&&(g=b)):(h.image=c,h.title=b,h.text=a);h.text&&(h.image=h.image||f.icon64||f.icon,h.title=h.title||f.name);h.onlick=d;h.ondone=g;w.notification(h)}};v["GM.notification"]={value:function(a){return"object"!==typeof a?S("GM.notification(details): received no details"):new b.Promise(function(b,c){e(k(a),function(a){});w.notification(a)})}};e(k(q),function(a){var b=
q[a];v["GM_"+a]={value:b};v["GM."+a]={getter:function(){return z(b)}}});v["window.close"]={context_prop:!0};v["window.focus"]={context_prop:!0}}v.GM_info=v["GM.info"]={getter:w.getInfo};var M={};h.GM={value:M,protect:!0};L(h,f.grant,v,function(a,b){if("GM."===a.substr(0,3))a=a.split(".")[1],ca(M,a,{get:b.getter?b.getter:function(){return b.value}});else return b.protect=!0,b});f.options.compat_prototypes&&((t||c)&&x("env: option: add toSource"),b.Object.prototype.toSource||ba(b.Object.prototype,{toSource:{value:function(){g("Object.toSource");
var a=W.toType(this);if("String"===a)return'(String("'+V(this,new b.RegExp('"',"g"),'\\"')+'"))';if("Number"===a)return'(Number("'+b.Number(this)+'"))';if("Array"===a){for(var a="(new Array(",c=0;c<this.length;c++){var d=W.toType(this[c]),a="Null"===d?a+"null":"Undefined"===d?a+"undefined":a+this[c].toSource();c+1<this.length&&(a+=",")}return a+"))"}return'JSON.parse(unescape("'+b.escape(ma(this))+'"))'},enumerable:!1,writable:!0,configurable:!0}}),(t||c)&&x("env: option: add some array generics"),
e("indexOf lastIndexOf filter forEach every map some slice".split(" "),function(a){if("function"!==typeof b.Array[a]){var c={};c[a]={value:function(c){g("Array."+a);return m(b.Array.prototype[a],c,m(F.wrappedJSObject,arguments,[1]))},enumerable:!1,writable:!0,configurable:!0};ba(b.Array,c)}}));var D,H="";if(p)D=new Window;else{var K=fa(h,function(a){da(a);B(a);R(a,2,K.filterEvent)});D={run_at:f.options.run_at,uuid:f.uuid};H="tms_"+V(f.uuid,/-/g,"_");J[H]=D;R(K.context,1,K.filterEvent);D=K.context}a.props[G].sandboxes[f.uuid]=
D;a.props[G].elements[f.uuid]=h;(t||c)&&O("env: execute script "+f.name+" @ the "+(p?"un":"")+"safe context now!");oa(f,d.code,d.requires,a.props[G],p,H,d.source_url)}}}();(function(){if(p.external_connect){var a;if(a=n.external){var b=function(a,b){f.send("external.message",a,function(a){b&&b(a)})};try{ba(a,{Tampermonkey:{get:function(){return{getVersion:function(a){b({method:"getVersion"},a)},isInstalled:function(a,c,d){"function"===typeof c&&(d=c,c=null);b({method:"isInstalled",script:{name:a,
namespace:c}},d)}}},configurable:!0}})}catch(c){}}}})();f.onMessage.setListener(function(b){var d=b.a;"load"==b.m?(a.pageLoaded=!0,fa.runListeners()):"DOMContentLoaded"==b.m?(a.domContentLoaded=!0,fa.runListeners()):"setForeignAttr"==b.m?n[d.attr]=d.value:"port.message"==b.m?R.message(d):"executeScript"==b.m?fa.run(b.a):"cleanup"==b.m?f.cleanup():c&&x("env: unkown method",b)});c&&x("Tampermonkey started");e(a.scripts,function(a){fa.run(a)})}}}());
